# Vocal Take Manager

ボーカルレコーディングのディレクター向けに、歌詞フレーズごとのテイク評価を記録し、
最終的な採用テイク（コンピング）を決めるためのクライアント完結型ツールです。

## 主な機能
- 歌詞入力とフレーズ分割（kuromoji.js を利用）
- レコーディング画面でのテイク評価マーク入力（1〜5、0はメモ）
- コンピング画面で採用テイク選定
- 印刷 / PDF / vtm 形式の書き出し
- IndexedDB（Dexie）によるローカル保存（サーバーへのデータ送信は行わない）

## 画面構成
- ホーム: 曲一覧 / 新規作成 / 読み込み / 書き出し
- 歌詞入力: タイトル、クレジット、歌詞編集
- レコーディング: フレーズ単位の評価入力
- コンピング: 採用テイクの決定

## 技術スタック
- React 19（React Compiler モード）
- Vite
- TypeScript
- MUI
- Dexie（IndexedDB）
- kuromoji.js
- tanstack/react-virtual
- Vitest / Playwright
- biome

## セットアップ
```bash
npm install
```

## 開発
```bash
npm run dev
```

## ビルド
```bash
npm run build
```

## テスト
```bash
npm run test
npm run test:e2e
```

## データ形式（vtm）
書き出し/読み込みは `.vtm` の JSON 形式です。
`Song` を丸ごと保存し、必要な情報はすべてクライアント側に保持します。

## キーボードショートカット（レコーディング）
- `1..5`: マーク入力
- `0`: メモ入力
- `Delete` または `Backspace`: マーク削除
- `←`: 前のフレーズに移動
- `→`: 次のフレーズに移動
- `Esc`: キャンセル/閉じる

## 注意事項
- すべてクライアント完結で動作し、外部へのデータ送信は行いません
- 形態素解析の結果に応じてフレーズ分割は変化します
